name: test
on: push

# ref: https://github.com/Songmu/homebrew-tap/blob/main/.github/workflows/test.yml

jobs:
  test:
    name: test
    runs-on: macos-latest
    steps:
    - uses: actions/checkout@v3
    - run: brew style Casks/*.rb
    - run: brew style Formula/*.rb
    - run: |
        for i in {Casks,Formula}/*.rb; do
          echo "===${i}==="
          brew reinstall --cask --require-sha "$i"
        done
